<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>4D Aquarium - Hyperdimensional Visualization | BobGnarly420</title>

  <!-- SEO Meta Tags -->
  <meta name="description" content="Interactive 4D aquarium visualization featuring hyperplanar slices of tesseracts and 4-tori. Explore hyperdimensional geometry through animated cross-sections." />
  <meta name="keywords" content="4D visualization, tesseract, hypercube, 4D torus, dimensional slicing, geometry visualization, WebGL, Three.js, hyperspace" />
  <meta name="author" content="BobGnarly420" />
  <link rel="canonical" href="https://bobgnarly420.github.io/aquarium.html" />

  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="4D Aquarium - Hyperdimensional Visualization" />
  <meta property="og:description" content="Interactive 4D aquarium featuring hyperplanar slices of tesseracts and 4-tori. Explore the fourth dimension through animated geometric visualizations." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://bobgnarly420.github.io/aquarium.html" />
  <meta property="og:site_name" content="BobGnarly420 Portfolio" />

  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="4D Aquarium - Hyperdimensional Visualization" />
  <meta name="twitter:description" content="Interactive 4D visualization featuring hyperplanar slices of tesseracts and 4-tori." />

  <!-- Additional SEO -->
  <meta name="robots" content="index, follow" />

  <!-- Structured Data (JSON-LD) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "CreativeWork",
    "name": "4D Aquarium",
    "url": "https://bobgnarly420.github.io/aquarium.html",
    "description": "Interactive 4D aquarium visualization featuring hyperplanar slices of polytopes and tori",
    "author": {
      "@type": "Person",
      "name": "BobGnarly420"
    },
    "genre": "Interactive Visualization",
    "keywords": ["4D geometry", "tesseract", "hypercube", "dimensional visualization"],
    "isPartOf": {
      "@type": "WebSite",
      "name": "BobGnarly420 Portfolio",
      "url": "https://bobgnarly420.github.io/"
    }
  }
  </script>
  <style>
    body,html{margin:0;height:100%;overflow:hidden;background:#001a33;color:#fff;font-family:sans-serif}
    #info{position:absolute;top:60px;left:10px;background:rgba(0,0,0,0.4);padding:0.5em 1em;border-radius:4px;font-size:14px}

    /* Portfolio Navigation */
    .portfolio-nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: rgba(0, 26, 51, 0.95);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(136, 255, 204, 0.2);
      padding: 0.75rem 1.5rem;
      z-index: 1000;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .portfolio-nav h2 {
      margin: 0;
      font-size: 1.1rem;
      font-weight: 600;
      letter-spacing: 0.02em;
    }

    .portfolio-nav nav {
      display: flex;
      gap: 1.5rem;
      align-items: center;
    }

    .portfolio-nav a {
      color: #88ffcc;
      text-decoration: none;
      font-size: 0.9rem;
      font-weight: 500;
      transition: color 0.2s ease;
    }

    .portfolio-nav a:hover {
      color: #ff88ff;
    }

    .portfolio-nav a.active {
      color: #fff;
      border-bottom: 2px solid #88ffcc;
    }
  </style>
</head>
<body>
  <!-- Portfolio Navigation -->
  <div class="portfolio-nav">
    <h2>BobGnarly420 Portfolio</h2>
    <nav>
      <a href="/">Vapor Simulator</a>
      <a href="/aquarium.html" class="active">4D Aquarium</a>
    </nav>
  </div>

  <div id="info">4D Aquarium â€“ hyperplanar slices of polytopes and tori</div>
  <canvas id="c"></canvas>
  <script src="https://cdn.jsdelivr.net/npm/three@0.155.0/build/three.min.js"></script>
  <script>
  const renderer = new THREE.WebGLRenderer({canvas: document.getElementById('c'), antialias:true});
  function resize(){
    renderer.setSize(window.innerWidth, window.innerHeight);
    camera.aspect = window.innerWidth/window.innerHeight;
    camera.updateProjectionMatrix();
  }
  const scene = new THREE.Scene();
  scene.fog = new THREE.Fog(0x001a33,4,15);
  const camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 100);
  camera.position.z = 5;
  const light = new THREE.DirectionalLight(0xffffff,1);
  light.position.set(5,10,7);
  scene.add(light);

  // helpers for 4D rotation
  function rotate4(v, a, i, j){
    const c=Math.cos(a), s=Math.sin(a), vi=v[i], vj=v[j];
    v[i]=vi*c - vj*s;
    v[j]=vi*s + vj*c;
  }

  // create fish (tesseract slices)
  const fishGeom = new THREE.BufferGeometry();
  const fishMat = new THREE.PointsMaterial({color:0xff88ff,size:0.05});
  const fish = new THREE.Points(fishGeom, fishMat);
  scene.add(fish);

  // create eel (4-torus slices)
  const eelGeom = new THREE.BufferGeometry();
  const eelMat = new THREE.PointsMaterial({color:0x88ffcc,size:0.03});
  const eel = new THREE.Points(eelGeom, eelMat);
  scene.add(eel);

  // precompute tesseract vertices and edges
  const tVerts=[];
  for(let i=0;i<16;i++){
    tVerts.push([(i&1?1:-1),(i&2?1:-1),(i&4?1:-1),(i&8?1:-1)]);
  }
  const tEdges=[];
  for(let i=0;i<16;i++)for(let j=i+1;j<16;j++){
    const d=i^j; if(d&&!(d&(d-1))) tEdges.push([i,j]);
  }

  function sliceTesseract(w, time){
    const pts=[];
    tEdges.forEach(([a,b])=>{
      const va=tVerts[a].slice();
      const vb=tVerts[b].slice();
      rotate4(va,time*0.3,0,3); rotate4(vb,time*0.3,0,3);
      rotate4(va,time*0.2,1,2); rotate4(vb,time*0.2,1,2);
      const wa=va[3], wb=vb[3];
      if((wa<w && wb>w) || (wa>w && wb<w)){
        const r=(w-wa)/(wb-wa);
        pts.push(new THREE.Vector3(
          va[0]+(vb[0]-va[0])*r,
          va[1]+(vb[1]-va[1])*r,
          va[2]+(vb[2]-va[2])*r
        ));
      }
    });
    return pts;
  }

  function sliceTorus(w,time){
    const pts=[];
    const R=1,r=0.3;
    for(let u=0;u<Math.PI*2;u+=0.15){
      for(let v=0;v<Math.PI*2;v+=0.15){
        const x=(R+r*Math.cos(v))*Math.cos(u);
        const y=(R+r*Math.cos(v))*Math.sin(u);
        const z=r*Math.sin(v)*Math.cos(time*0.4);
        const ww=r*Math.sin(v)*Math.sin(time*0.4);
        if(Math.abs(ww-w)<0.02) pts.push(new THREE.Vector3(x,y,z));
      }
    }
    return pts;
  }

  let t=0;
  function animate(){
    t+=0.01;
    const wSlice=Math.sin(t);
    fishGeom.setFromPoints(sliceTesseract(wSlice,t));
    eelGeom.setFromPoints(sliceTorus(wSlice*0.5,t));
    renderer.render(scene,camera);
    requestAnimationFrame(animate);
  }
  window.addEventListener('resize',resize);
  resize();
  animate();
  </script>
</body>
</html>
